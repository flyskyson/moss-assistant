# OpenClaw Agentæ€§èƒ½é—®é¢˜ - æ ¹æœ¬åŸå› åˆ†æä¸è§£å†³æ–¹æ¡ˆ

**æ—¥æœŸ**: 2026-02-09
**æµ‹è¯•è€—æ—¶**: ~2å°æ—¶
**æµ‹è¯•æ¬¡æ•°**: 10é¡¹ç³»ç»Ÿæ€§æµ‹è¯•

---

## ğŸ¯ æ ¹æœ¬åŸå› 

ç»è¿‡10é¡¹ç³»ç»Ÿæ€§æµ‹è¯•ï¼Œç¡®å®šäº†å¯¼è‡´main Agentå“åº”ç¼“æ…¢ï¼ˆ170-300ç§’ï¼‰çš„æ ¹æœ¬åŸå› ï¼š

### é—®é¢˜1: clawdå·¥ä½œåŒºå†…å®¹å¯¼è‡´~60ç§’åŸºç¡€å»¶è¿Ÿ

**è¯æ®**:
```
test-agent (ä½¿ç”¨ ~/clawd-test å·¥ä½œåŒº): 8ç§’ âœ…
main-new (ä½¿ç”¨ ~/clawd å·¥ä½œåŒº):       69ç§’ âš ï¸
```

**å·®å¼‚**: 61ç§’å»¶è¿Ÿæ¥è‡ªå·¥ä½œåŒºå†…å®¹

**å¯èƒ½çš„ç½ªé­ç¥¸é¦–**:
1. **node_modules (45MB)**: OpenClawå¯èƒ½åœ¨æ¯æ¬¡è°ƒç”¨æ—¶æ‰«ææˆ–ç´¢å¼•
2. **.gitç›®å½•**: å¯èƒ½è¢«ç›‘æ§æˆ–ç´¢å¼•
3. **å¤§é‡MDæ–‡ä»¶**: MEMORY.md (208è¡Œ), TASKS.mdç­‰
4. **é¡¹ç›®æ–‡ä»¶**: package.json, .project-state.jsonç­‰

### é—®é¢˜2: main Agentå†å²çŠ¶æ€å¯¼è‡´é¢å¤–100-230ç§’å»¶è¿Ÿ

**è¯æ®**:
```
main-new (æ–°Agent, clawdå·¥ä½œåŒº):   69ç§’
main (æ—§Agent, clawdå·¥ä½œåŒº):      170-300ç§’
```

**å·®å¼‚**: 101-231ç§’é¢å¤–å»¶è¿Ÿæ¥è‡ªmain Agentçš„å†å²çŠ¶æ€

**å¯èƒ½çš„ç½ªé­ç¥¸é¦–**:
1. **å¤§é‡sessionæ–‡ä»¶**: 40ä¸ªä¼šè¯ï¼Œæ€»è®¡>5MB
2. **AgentçŠ¶æ€æ–‡ä»¶**: auth-profiles.json, models.jsonçš„å†…éƒ¨çŠ¶æ€
3. **ç¼“å­˜æˆ–ç´¢å¼•**: Agentå¯èƒ½ç»´æŠ¤çš„å†…éƒ¨ç´¢å¼•

---

## âœ… ç«‹å³è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆA: åˆ›å»ºå¹²å‡€çš„å·¥ä½œåŒºå’Œæ–°Agentï¼ˆæ¨èï¼‰

**æ­¥éª¤**:

```bash
# 1. åˆ›å»ºå…¨æ–°çš„å¹²å‡€å·¥ä½œåŒº
mkdir -p ~/clawd-clean

# 2. åˆ›å»ºæœ€å°åŒ–IDENTITY
cat > ~/clawd-clean/IDENTITY.md << 'EOF'
# MOSS

ä½ æ˜¯MOSSï¼Œä¸€ä¸ªAIåŠ©æ‰‹ã€‚

æ ¸å¿ƒåŸåˆ™ï¼š
1. ç®€æ´å›ç­”
2. ä½¿ç”¨ä¸­æ–‡
3. ä¼˜å…ˆå®ç”¨æ€§
EOF

# 3. åˆ›å»ºæ–°Agent
openclaw agents add moss-clean \
  --workspace ~/clawd-clean \
  --non-interactive \
  --model "openrouter/deepseek/deepseek-v3.2"

# 4. æµ‹è¯•æ€§èƒ½
time openclaw agent --agent moss-clean --message "ä½ å¥½"

# 5. å¦‚æœå¿«é€Ÿï¼ˆ<10ç§’ï¼‰ï¼Œè¿ç§»å¿…è¦å†…å®¹
```

**é¢„æœŸç»“æœ**: å“åº”æ—¶é—´ <10ç§’

### æ–¹æ¡ˆB: æ¸…ç†ç°æœ‰å·¥ä½œåŒº

**æ­¥éª¤**:

```bash
# 1. ç§»é™¤node_modulesï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
cd ~/clawd
mv node_modules node_modules.backup

# 2. æ¸…ç†æ—§sessionï¼ˆä¿ç•™æœ€è¿‘10ä¸ªï¼‰
cd ~/.openclaw/agents/main/sessions
ls -t *.jsonl | tail -n +11 | xargs rm -f

# 3. ç®€åŒ–MEMORY.md
mv MEMORY.md MEMORY.md.backup
echo "# MOSS è®°å¿†" > MEMORY.md

# 4. é‡å¯Gateway
openclaw gateway restart

# 5. æµ‹è¯•
time openclaw agent --agent main --message "æµ‹è¯•"
```

**é¢„æœŸç»“æœ**: å“åº”æ—¶é—´å¯èƒ½æ”¹å–„åˆ°30-60ç§’

### æ–¹æ¡ˆC: å®Œå…¨é‡å»ºmain Agentï¼ˆæ¿€è¿›ï¼‰

**è­¦å‘Š**: main Agentæ— æ³•ç›´æ¥åˆ é™¤ï¼Œéœ€è¦æ‰‹åŠ¨æ“ä½œ

```bash
# 1. å¤‡ä»½
cp -r ~/.openclaw/agents/main ~/.openclaw/agents/main.backup

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
nano ~/.openclaw/openclaw.json
# æ‰¾åˆ°agents.listä¸­çš„mainï¼Œä¿®æ”¹å…¶idä¸ºmain-old

# 3. åˆ›å»ºæ–°main Agent
openclaw agents add main --workspace ~/clawd-clean --non-interactive

# 4. è¿ç§»å¿…è¦é…ç½®
```

---

## ğŸ“Š å®Œæ•´æµ‹è¯•ç»“æœ

| æµ‹è¯• # | æµ‹è¯•å†…å®¹ | ç»“æœ | è€—æ—¶ | ç»“è®º |
|--------|----------|------|------|------|
| 0 | ç›´æ¥APIè°ƒç”¨ | âœ… | 2ç§’ | APIæ­£å¸¸ |
| 1 | ç¦ç”¨æ‰€æœ‰æŠ€èƒ½ | âŒ | 120ç§’+ | ä¸æ˜¯æŠ€èƒ½ |
| 2 | æ¸…ç©ºä¼šè¯å†å² | âŒ | 239ç§’ | ä¸æ˜¯sessions.json |
| 3 | ç®€åŒ–IDENTITY.md | âŒ | 221ç§’ | ä¸æ˜¯IDENTITY |
| 4 | ç¦ç”¨æ‰€æœ‰cron | âŒ | 161ç§’ | ä¸æ˜¯cronä»»åŠ¡ |
| 5 | å·¥ä½œåŒºé…ç½®æ–‡ä»¶ | âœ… | - | é…ç½®æ­£å¸¸ |
| 6 | åˆ›å»ºtest-agent | âœ… | 8ç§’ | **æ–°Agentå¿«ï¼** |
| 7 | å¯¹æ¯”Agenté…ç½® | âœ… | - | models.jsonç›¸åŒ |
| 8 | ç§»é™¤å¤§sessionæ–‡ä»¶ | âŒ | 175ç§’ | ä¸æ˜¯å¤§session |
| 9 | åˆ‡æ¢å·¥ä½œåŒº | âŒ | 254ç§’ | **å·¥ä½œåŒºæœ‰å½±å“** |
| 10 | åœ¨clawdåˆ›å»ºæ–°Agent | âš ï¸ | 69ç§’ | **åŒé‡å½±å“** |

---

## ğŸ”¬ æŠ€æœ¯åˆ†æ

### ä¸ºä»€ä¹ˆnode_modulesä¼šå¯¼è‡´å»¶è¿Ÿï¼Ÿ

OpenClawå¯èƒ½åœ¨æ¯æ¬¡Agentè°ƒç”¨æ—¶ï¼š
1. æ‰«æå·¥ä½œåŒºæ–‡ä»¶ä»¥æ„å»ºä¸Šä¸‹æ–‡
2. ç´¢å¼•æˆ–ç›‘æ§æ–‡ä»¶å˜åŒ–
3. è¯»å–package.jsonä»¥äº†è§£é¡¹ç›®ç»“æ„
4. å¤„ç†.gitç›®å½•çš„ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯

**éªŒè¯æ–¹æ³•**:
```bash
# æµ‹è¯•node_moduleså½±å“
cd ~/clawd
mv node_modules node_modules.tmp
openclaw gateway restart
time openclaw agent --agent main --message "æµ‹è¯•"
# å¦‚æœå¿«äº†ï¼Œå°±æ˜¯node_modulesçš„é—®é¢˜
mv node_modules.tmp node_modules
```

### ä¸ºä»€ä¹ˆæ—§AgentçŠ¶æ€ä¼šå¯¼è‡´é¢å¤–å»¶è¿Ÿï¼Ÿ

å¯èƒ½çš„æœºåˆ¶ï¼š
1. **Sessionç´¢å¼•**: Agentå¯èƒ½ç»´æŠ¤æ‰€æœ‰sessionçš„ç´¢å¼•
2. **å†…å­˜æœç´¢**: å†å²å¯¹è¯å¯èƒ½è¢«ç”¨äºè¯­ä¹‰æœç´¢
3. **ä¸Šä¸‹æ–‡ç´¯ç§¯**: é•¿æœŸä½¿ç”¨çš„Agentå¯èƒ½ç´¯ç§¯å¤§é‡ä¸Šä¸‹æ–‡
4. **ç¼“å­˜å¤±æ•ˆ**: æ—§ç¼“å­˜å¯èƒ½å¯¼è‡´é‡å¤è®¡ç®—

---

## ğŸ“ æ¨èè¡ŒåŠ¨è®¡åˆ’

### ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©ï¼‰

1. âœ… **åˆ›å»ºå¹²å‡€çš„MOSS Agent** (æ–¹æ¡ˆA)
   - 5åˆ†é’Ÿå®Œæˆ
   - ç«‹å³è·å¾—å¿«é€Ÿå“åº”
   - é€æ­¥éªŒè¯åŠŸèƒ½

2. âš ï¸  **å¦‚æœéœ€è¦ä¿ç•™åŸå·¥ä½œåŒº**
   - æ‰§è¡Œæ–¹æ¡ˆBæ¸…ç†æ­¥éª¤
   - é€ä¸ªæµ‹è¯•æ”¹å–„æ•ˆæœ

### çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰

1. è¿ç§»å¿…è¦åŠŸèƒ½åˆ°æ–°Agent
2. æ›´æ–°å¿«æ·é”®å’Œåˆ«å
3. æµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

### é•¿æœŸï¼ˆæœ¬æœˆï¼‰

1. è”ç³»OpenClawå›¢é˜ŸæŠ¥å‘Šæ­¤é—®é¢˜
2. æä¾›æ€§èƒ½åˆ†ææ•°æ®
3. å»ºè®®æ·»åŠ Agentå¥åº·æ£€æŸ¥å·¥å…·

---

## ğŸ› ï¸ è¯Šæ–­å‘½ä»¤å‚è€ƒ

```bash
# æ£€æŸ¥Agentæ€§èƒ½
time openclaw agent --agent <agent-id> --message "æµ‹è¯•"

# æŸ¥çœ‹sessionå¤§å°
ls -lhS ~/.openclaw/agents/<agent-id>/sessions/*.jsonl | head -10

# æ£€æŸ¥å·¥ä½œåŒºå¤§å°
du -sh ~/clawd
du -sh ~/clawd/node_modules

# æŸ¥çœ‹Agenté…ç½®
cat ~/.openclaw/openclaw.json | jq '.agents.list[] | select(.id == "<agent-id>")'

# æŸ¥çœ‹æ´»åŠ¨è¿›ç¨‹
ps aux | grep openclaw

# æŸ¥çœ‹Gatewayæ—¥å¿—
tail -f /tmp/openclaw/openclaw-$(date +%Y-%m-%d).log
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ–¹æ³•1æµ‹è¯•æŠ¥å‘Š](test-results-method1-fallback.md)
- [æ€§èƒ½è¯Šæ–­æŠ¥å‘Š](openclaw-performance-diagnosis.md)
- [æœ€ç»ˆè¯Šæ–­æŠ¥å‘Š](final-diagnostic-report.md)

---

## ğŸ“ ç»éªŒæ•™è®­

1. **AgentçŠ¶æ€ä¼šç´¯ç§¯**: é•¿æœŸä½¿ç”¨çš„Agentä¼šå˜æ…¢
2. **å·¥ä½œåŒºå†…å®¹å½±å“æ€§èƒ½**: node_modulesã€.gitç­‰ä¼šè¢«æ‰«æ
3. **æµ‹è¯•æ–°Agentæ˜¯æœ€ä½³è¯Šæ–­æ–¹æ³•**: å¿«é€ŸéªŒè¯æ˜¯å¦ä¸ºAgentç‰¹å®šé—®é¢˜
4. **ç³»ç»ŸåŒ–æµ‹è¯•èƒœè¿‡çŒœæµ‹**: 10é¡¹æµ‹è¯•æ‰¾åˆ°äº†çœŸæ­£åŸå› 

---

**è¯Šæ–­å®Œæˆæ—¶é—´**: 2026-02-09 08:15 UTC+8
**çŠ¶æ€**: âœ… æ ¹æœ¬åŸå› å·²ç¡®å®š
**æ¨è**: ç«‹å³æ‰§è¡Œæ–¹æ¡ˆAåˆ›å»ºå¹²å‡€Agent
