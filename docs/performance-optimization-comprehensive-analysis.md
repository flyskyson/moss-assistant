# OpenClaw Agent æ€§èƒ½ä¼˜åŒ–ç»¼åˆåˆ†æ

**æ—¥æœŸ**: 2026-02-09
**åˆ†æåŸºç¡€**: æ ¹æœ¬åŸå› åˆ†ææŠ¥å‘Š + Multi-Agentæ•ˆç‡å¯¹æ¯”è°ƒç ”

---

## ğŸ“Š ä¸¤ä¸ªè°ƒç ”çš„æ ¸å¿ƒå‘ç°

### è°ƒç ”1: Multi-Agent vs Single-Agent æ•ˆç‡å¯¹æ¯”

**æ ¸å¿ƒç»“è®º**:
- ç®€å•ä»»åŠ¡: Single-Agent å¿« **15-30%**
- å¤æ‚ä»»åŠ¡: Multi-Agent å¿« **50-80%**
- **é€šä¿¡å¼€é”€**: å  Multi-Agent æ€»æˆæœ¬çš„ **30-50%**

**å…³é”®é˜ˆå€¼**:
- ä»»åŠ¡æ­¥éª¤ < 10: Single-Agent æ›´ä¼˜
- ä»»åŠ¡æ­¥éª¤ > 30: Multi-Agent æ›´ä¼˜
- å• Agent å‡†ç¡®ç‡ > 45%: æ— éœ€ Multi-Agent

### è°ƒç ”2: OpenClaw Agent æ€§èƒ½æ ¹æœ¬åŸå› 

**æ ¸å¿ƒå‘ç°**:
- **å·¥ä½œåŒºå†…å®¹å¯¼è‡´ ~60ç§’å»¶è¿Ÿ**: node_modules (45MB)ã€.gitã€å¤§é‡MDæ–‡ä»¶
- **Agentå†å²çŠ¶æ€å¯¼è‡´ 100-230ç§’å»¶è¿Ÿ**: 40ä¸ªsessionæ–‡ä»¶ã€å†…éƒ¨ç´¢å¼•ã€ç¼“å­˜
- **æ€»å»¶è¿Ÿ**: 170-300ç§’ (è€Œç›´æ¥APIè°ƒç”¨ä»…éœ€2ç§’)

---

## ğŸ” æ·±åº¦åˆ†æ: ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæ…¢ï¼Ÿ

### é—®é¢˜1: å·¥ä½œåŒºå†…å®¹çš„å½±å“ (60ç§’)

æ ¹æ®æ ¹æœ¬åŸå› æŠ¥å‘Šï¼Œclawdå·¥ä½œåŒºåŒ…å«:
```
node_modules/    45MB  âš ï¸ å¯èƒ½è¢«æ¯æ¬¡æ‰«æ
.git/            ?     âš ï¸ ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯
MEMORY.md        208è¡Œ âš ï¸ å¤§é‡ä¸Šä¸‹æ–‡
TASKS.md         ?     âš ï¸ ä»»åŠ¡å†å²
å…¶ä»–MDæ–‡ä»¶       å¤šä¸ª  âš ï¸ æ–‡æ¡£
```

**OpenClawçš„è¡Œä¸ºå‡è®¾**:
æ¯æ¬¡Agentè°ƒç”¨æ—¶ï¼Œç³»ç»Ÿå¯èƒ½:
1. æ‰«æå·¥ä½œåŒºæ–‡ä»¶ä»¥æ„å»ºä¸Šä¸‹æ–‡
2. ç´¢å¼•æ–‡ä»¶å˜åŒ–
3. è¯»å–package.jsonäº†è§£é¡¹ç›®ç»“æ„
4. å¤„ç†.gitç›®å½•çš„ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯

**è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆ test-agent (ä½¿ç”¨ç©ºå·¥ä½œåŒº) åªè¦8ç§’ï¼Œè€Œ main-new (ä½¿ç”¨clawdå·¥ä½œåŒº) è¦69ç§’**

### é—®é¢˜2: Agentå†å²çŠ¶æ€çš„å½±å“ (100-230ç§’)

**main Agentçš„å†å²**:
- 40ä¸ªsessionæ–‡ä»¶
- >5MBçš„å†å²æ•°æ®
- é•¿æœŸä½¿ç”¨ç´¯ç§¯çš„å†…éƒ¨çŠ¶æ€

**å¯èƒ½çš„æ€§èƒ½æ€æ‰‹**:
1. **Sessionç´¢å¼•**: æ¯æ¬¡è°ƒç”¨å¯èƒ½æœç´¢æ‰€æœ‰å†å²session
2. **è¯­ä¹‰æœç´¢**: ä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦æŸ¥æ‰¾ç›¸å…³å†å²
3. **ä¸Šä¸‹æ–‡ç´¯ç§¯**: é•¿æœŸä¸Šä¸‹æ–‡å¯èƒ½å¯¼è‡´ç¼“å­˜å¤±æ•ˆ
4. **å†…å­˜ç®¡ç†**: æ—§Agentå¯èƒ½æœ‰å†…å­˜æ³„æ¼

---

## ğŸ’¡ ç»“åˆä¸¤ä¸ªè°ƒç ”çš„æ´å¯Ÿ

### æ´å¯Ÿ1: å·¥ä½œåŒºæ€§èƒ½ > æ¶æ„é€‰æ‹©

**å‘ç°**:
- æ ¹æœ¬åŸå› æŠ¥å‘Šæ˜¾ç¤º: å·¥ä½œåŒºä¼˜åŒ–å¯å°†å“åº”ä» **170-300ç§’** é™è‡³ **8ç§’**
- Multi-Agentè°ƒç ”æ˜¾ç¤º: æ¶æ„é€‰æ‹©ä»…å½±å“ **15-30%** çš„æ€§èƒ½

**ç»“è®º**:
> **å·¥ä½œåŒºä¼˜åŒ–æ¯”æ¶æ„é€‰æ‹©é‡è¦10-20å€**

**è¡ŒåŠ¨å»ºè®®**:
1. **ä¼˜å…ˆçº§1**: æ¸…ç†å·¥ä½œåŒº (node_modulesã€.gitã€å¤§æ–‡ä»¶)
2. **ä¼˜å…ˆçº§2**: æ¸…ç†Agentå†å² (æ—§sessionã€ç¼“å­˜)
3. **ä¼˜å…ˆçº§3**: æ‰è€ƒè™‘æ¶æ„ä¼˜åŒ– (Single vs Multi-Agent)

### æ´å¯Ÿ2: é€šä¿¡å¼€é”€è¢«å…¶ä»–é—®é¢˜æ©ç›–

**Multi-Agentè°ƒç ”å‘ç°**: é€šä¿¡å¼€é”€å 30-50%
**æ ¹æœ¬åŸå› æŠ¥å‘Šæ˜¾ç¤º**: å½“å‰æ€»å»¶è¿Ÿ170-300ç§’

**è®¡ç®—**:
```
å‡è®¾é€šä¿¡å¼€é”€å 50%: 85-150ç§’
ä½†å·¥ä½œåŒºå’Œå†å²é—®é¢˜å¯¼è‡´: 160-290ç§’
```

**ç»“è®º**:
> **å½“å‰ç³»ç»Ÿçš„é€šä¿¡å¼€é”€è¢«å…¶ä»–æ€§èƒ½é—®é¢˜å®Œå…¨æ©ç›–**

**å«ä¹‰**:
- ä¼˜åŒ–é€šä¿¡åè®®ï¼ˆæˆ‘åˆšæ‰å®ç°çš„ï¼‰åœ¨å½“å‰é—®é¢˜ä¸‹æ•ˆæœä¸æ˜æ˜¾
- å¿…é¡»å…ˆè§£å†³å·¥ä½œåŒºå’Œå†å²é—®é¢˜ï¼Œæ‰èƒ½çœ‹åˆ°é€šä¿¡ä¼˜åŒ–çš„æ•ˆæœ

### æ´å¯Ÿ3: Agent"å¹´é¾„"æ˜¯æ€§èƒ½æ€æ‰‹

**æ•°æ®**:
```
test-agent (æ–°):     8ç§’   âœ…
main-new (æ–°):       69ç§’  âš ï¸ (å·¥ä½œåŒºé—®é¢˜)
main (æ—§):           170-300ç§’  âŒ (å·¥ä½œåŒº+å†å²é—®é¢˜)
```

**ç»“è®º**:
> **Agentä¼š"è€åŒ–"ï¼Œæ€§èƒ½éšä½¿ç”¨æ—¶é—´çº¿æ€§ä¸‹é™**

**å¯èƒ½æœºåˆ¶**:
1. Sessionæ–‡ä»¶ç´¯ç§¯
2. å†…éƒ¨ç´¢å¼•å¢é•¿
3. ç¼“å­˜å¤±æ•ˆå¢åŠ 
4. å†…å­˜æ³„æ¼

**Multi-Agentè°ƒç ”çš„éšå«æ„ä¹‰**:
- å¦‚æœMulti-Agentç³»ç»Ÿä¸­æ¯ä¸ªAgentéƒ½ä¼š"è€åŒ–"
- é‚£ä¹ˆ"Multi-Agentç³»ç»Ÿæ¯”Single-Agentå¿«50-80%"çš„ç»“è®º
- **å¿…é¡»è€ƒè™‘Agentè€åŒ–å› ç´ **

---

## ğŸ¯ ç»¼åˆä¼˜åŒ–å»ºè®®

### ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©ï¼‰

#### 1. åˆ›å»ºå¹²å‡€çš„å·¥ä½œåŒºå’Œæ–°Agent (æ¨è)

```bash
# åˆ›å»ºæœ€å°åŒ–å·¥ä½œåŒº
mkdir -p ~/clawd-clean

# åˆ›å»ºæœ€å°åŒ–IDENTITY
cat > ~/clawd-clean/IDENTITY.md << 'EOF'
# MOSS

ä½ æ˜¯MOSSï¼ŒAIåŠ©æ‰‹ã€‚

æ ¸å¿ƒåŸåˆ™ï¼š
1. ç®€æ´å›ç­”
2. ä½¿ç”¨ä¸­æ–‡
3. ä¼˜å…ˆå®ç”¨æ€§
EOF

# åˆ›å»ºæ–°Agent
openclaw agents add moss-clean \
  --workspace ~/clawd-clean \
  --non-interactive \
  --model "deepseek/deepseek-chat"

# æµ‹è¯•æ€§èƒ½
time openclaw agent --agent moss-clean --message "ä½ å¥½"
```

**é¢„æœŸæ•ˆæœ**: å“åº”æ—¶é—´ <10ç§’

#### 2. éªŒè¯å·¥ä½œåŒºå†…å®¹çš„å½±å“

```bash
# æµ‹è¯•node_moduleså½±å“
cd ~/clawd
mv node_modules node_modules.tmp
openclaw gateway restart
time openclaw agent --agent main --message "æµ‹è¯•"
# è®°å½•æ—¶é—´
mv node_modules.tmp node_modules
```

**å¦‚æœå˜å¿«**: ç¡®è®¤node_modulesæ˜¯é—®é¢˜æ ¹æº
**å¦‚æœæ²¡å˜åŒ–**: é—®é¢˜åœ¨å…¶ä»–æ–‡ä»¶

#### 3. æ¸…ç†ç°æœ‰å·¥ä½œåŒº

```bash
# ç§»é™¤node_modules (å¦‚æœä¸éœ€è¦)
cd ~/clawd
mv node_modules node_modules.backup

# æ¸…ç†æ—§session (ä¿ç•™æœ€è¿‘10ä¸ª)
cd ~/.openclaw/agents/main/sessions
ls -t *.jsonl | tail -n +11 | xargs rm -f

# ç®€åŒ–MEMORY.md
mv MEMORY.md MEMORY.md.backup
echo "# MOSS è®°å¿†" > MEMORY.md

# é‡å¯Gateway
openclaw gateway restart
```

### çŸ­æœŸä¼˜åŒ–ï¼ˆæœ¬å‘¨ï¼‰

#### 1. å®æ–½æˆ‘åˆšæ‰åˆ›å»ºçš„ä¼˜åŒ–ç»„ä»¶

è™½ç„¶é€šä¿¡ä¼˜åŒ–åœ¨å½“å‰é—®é¢˜ä¸‹æ•ˆæœæœ‰é™ï¼Œä½†ä»ç„¶æœ‰ä»·å€¼ï¼š

**å…±äº«å†…å­˜æœºåˆ¶**:
- é…ç½®: `/Users/lijian/clawd/config/shared-memory-config.json`
- å®ç°: `/Users/lijian/clawd/scripts/agent-communication-protocol.py`
- æ•ˆæœ: å¤§å¯¹è±¡ä½¿ç”¨æ–‡ä»¶ä¼ è¾“ï¼Œå°å¯¹è±¡ä½¿ç”¨å†…å­˜

**ä»»åŠ¡å¤æ‚åº¦æ£€æµ‹**:
- é…ç½®: `/Users/lijian/clawd/config/task-routing-config.json`
- å®ç°: `/Users/lijian/clawd/scripts/task-complexity-detector.py`
- æ•ˆæœ: ç®€å•ä»»åŠ¡è‡ªåŠ¨ä½¿ç”¨Single-Agentæ¨¡å¼

#### 2. ç›‘æ§Agent"å¹´é¾„"ä¸æ€§èƒ½å…³ç³»

åˆ›å»ºæ€§èƒ½ç›‘æ§è„šæœ¬:

```bash
#!/bin/bash
# ç›‘æ§Agentæ€§èƒ½
# æ¯10æ¬¡è°ƒç”¨è®°å½•ä¸€æ¬¡å“åº”æ—¶é—´

AGENT_ID="main"
LOG_FILE="~/clawd/logs/agent-performance.log"

while true; do
  START=$(date +%s)
  openclaw agent --agent $AGENT_ID --message "æµ‹è¯•" >/dev/null
  END=$(date +%s)

  ELAPSED=$((END - START))
  echo "$(date +%Y-%m-%d_%H:%M:%S) $AGENT_ID ${ELAPSED}s" >> $LOG_FILE

  sleep 600  # 10åˆ†é’Ÿ
done
```

### é•¿æœŸä¼˜åŒ–ï¼ˆæœ¬æœˆï¼‰

#### 1. Agentç”Ÿå‘½å‘¨æœŸç®¡ç†

**å®šæœŸæ¸…ç†ç­–ç•¥**:
- æ¯å‘¨æ¸…ç†æ—§session (ä¿ç•™æœ€è¿‘50ä¸ª)
- æ¯æœˆé‡å»ºAgent (å¦‚æœæ€§èƒ½ä¸‹é™)
- ç›‘æ§Agent"å¹´é¾„"ä¸æ€§èƒ½å…³ç³»

**è‡ªåŠ¨æ¸…ç†è„šæœ¬**:

```bash
#!/bin/bash
# è‡ªåŠ¨æ¸…ç†Agentå†å²
# æ·»åŠ åˆ°cron: 0 0 * * 0 ~/clawd/scripts/cleanup-agent.sh

cd ~/.openclaw/agents/main/sessions
# ä¿ç•™æœ€è¿‘50ä¸ªsession
ls -t *.jsonl | tail -n +51 | xargs rm -f

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
cd /tmp/openclaw-shared
find . -type f -mtime +7 -delete
```

#### 2. å·¥ä½œåŒºä¼˜åŒ–

**åˆ†ç¦»ç­–ç•¥**:
```
~/clawd/              # å¼€å‘å·¥ä½œåŒº (node_modulesã€.git)
â”œâ”€â”€ src/
â”œâ”€â”€ docs/
â””â”€â”€ node_modules/

~/clawd-agent/        # Agentå·¥ä½œåŒº (æœ€å°åŒ–)
â”œâ”€â”€ IDENTITY.md       # å”¯ä¸€å¿…éœ€
â”œâ”€â”€ MEMORY.md         # ç²¾ç®€ç‰ˆ
â””â”€â”€ TASKS.md          # ç²¾ç®€ç‰ˆ
```

**é…ç½®OpenClaw**:
```json
{
  "agents": [
    {
      "id": "main",
      "workspace": "~/clawd-agent",  // æœ€å°åŒ–å·¥ä½œåŒº
      "dataPaths": ["~/clawd/src"]   // é¢å¤–æ•°æ®è·¯å¾„ï¼ˆæŒ‰éœ€ï¼‰
    }
  ]
}
```

#### 3. æ¶æ„ä¼˜åŒ–å†³ç­–çŸ©é˜µ

åŸºäºä¸¤ä¸ªè°ƒç ”çš„ç»¼åˆå»ºè®®:

| åœºæ™¯ | å·¥ä½œåŒºçŠ¶æ€ | Agentå¹´é¾„ | ä»»åŠ¡å¤æ‚åº¦ | æ¨èæ–¹æ¡ˆ |
|------|-----------|----------|-----------|---------|
| å¼€å‘æµ‹è¯• | å¹²å‡€ | æ–° | ä»»æ„ | Single-Agent |
| æ—¥å¸¸ä½¿ç”¨ | é€‚ä¸­ | æ–° | <10æ­¥ | Single-Agent |
| æ—¥å¸¸ä½¿ç”¨ | é€‚ä¸­ | æ–° | >30æ­¥ | Multi-Agent |
| æ—¥å¸¸ä½¿ç”¨ | é€‚ä¸­ | æ—§ | ä»»æ„ | **é‡å»ºAgent** |
| æ—¥å¸¸ä½¿ç”¨ | å¤æ‚ | ä»»æ„ | ä»»æ„ | **æ¸…ç†å·¥ä½œåŒº** |

---

## ğŸ“ˆ é¢„æœŸæ€§èƒ½æ”¹å–„

### ä¼˜åŒ–å‰ (å½“å‰çŠ¶æ€)
```
main Agent: 170-300ç§’
- å·¥ä½œåŒºå½±å“: ~60ç§’
- Agentå†å²å½±å“: ~100-230ç§’
- å®é™…APIè°ƒç”¨: 2ç§’
```

### ç«‹å³ä¼˜åŒ–å (æ–¹æ¡ˆA)
```
moss-clean Agent: 8-15ç§’
- å¹²å‡€å·¥ä½œåŒº: 0ç§’é¢å¤–
- æ–°Agent: 0ç§’å†å²
- å®é™…APIè°ƒç”¨: 2ç§’
- OpenClawå¼€é”€: 6-13ç§’
```

**æ”¹å–„**: **92-95%** æ€§èƒ½æå‡

### é•¿æœŸä¼˜åŒ–å
```
ä¼˜åŒ–Agent: 5-10ç§’
- å¹²å‡€å·¥ä½œåŒº: 0ç§’
- å®šæœŸæ¸…ç†: 0ç§’å†å²ç´¯ç§¯
- é€šä¿¡ä¼˜åŒ–: -30% å¼€é”€
- æ™ºèƒ½è·¯ç”±: -20% ç®€å•ä»»åŠ¡
```

**é¢å¤–æ”¹å–„**: **30-50%** ç›¸æ¯”ç«‹å³ä¼˜åŒ–

---

## ğŸ”¬ éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶çš„é—®é¢˜

### 1. OpenClawçš„å·¥ä½œåŒºæ‰«ææœºåˆ¶

**é—®é¢˜**: OpenClawå¦‚ä½•å¤„ç†å·¥ä½œåŒºæ–‡ä»¶ï¼Ÿ

**ç ”ç©¶æ–¹æ³•**:
```bash
# ç›‘æ§æ–‡ä»¶è®¿é—®
sudo opensnoop | grep clawd
# æˆ–
strace -e trace=openat,open,read openclaw agent --agent main --message "æµ‹è¯•"
```

### 2. Agentå†å²çŠ¶æ€çš„å­˜å‚¨æœºåˆ¶

**é—®é¢˜**: 40ä¸ªsessionæ–‡ä»¶å¦‚ä½•å½±å“æ€§èƒ½ï¼Ÿ

**ç ”ç©¶æ–¹æ³•**:
- åˆ†æsessionæ–‡ä»¶ç»“æ„
- æµ‹è¯•ä¸åŒsessionæ•°é‡çš„æ€§èƒ½
- æ£€æŸ¥æ˜¯å¦æœ‰ç´¢å¼•æ–‡ä»¶

### 3. Multi-Agentç¯å¢ƒä¸‹çš„è€åŒ–æ•ˆåº”

**é—®é¢˜**: Multi-Agentç³»ç»Ÿä¸­æ¯ä¸ªAgentéƒ½ä¼šè€åŒ–å—ï¼Ÿ

**ç ”ç©¶æ–¹æ³•**:
- åˆ›å»º3ä¸ªæ–°Agent
- å®šæœŸæµ‹è¯•æ€§èƒ½
- è§‚å¯Ÿè€åŒ–æ›²çº¿

---

## ğŸ“š æ€»ç»“

### æ ¸å¿ƒå‘ç°

1. **å·¥ä½œåŒºæ€§èƒ½ > æ¶æ„é€‰æ‹©**: ä¼˜åŒ–å·¥ä½œåŒºæ¯”é€‰æ‹©Single/Multi-Agenté‡è¦10-20å€
2. **Agentä¼šè€åŒ–**: æ€§èƒ½éšä½¿ç”¨æ—¶é—´çº¿æ€§ä¸‹é™ï¼Œéœ€è¦å®šæœŸé‡å»º
3. **é€šä¿¡ä¼˜åŒ–è¢«æ©ç›–**: åœ¨å½“å‰æ€§èƒ½é—®é¢˜ä¸‹ï¼Œé€šä¿¡ä¼˜åŒ–æ•ˆæœä¸æ˜æ˜¾

### ç«‹å³è¡ŒåŠ¨

1. âœ… åˆ›å»ºå¹²å‡€çš„moss-clean Agent (5åˆ†é’Ÿ)
2. âœ… æµ‹è¯•node_moduleså½±å“ (5åˆ†é’Ÿ)
3. âœ… æ¸…ç†ç°æœ‰å·¥ä½œåŒº (10åˆ†é’Ÿ)

### é•¿æœŸç­–ç•¥

1. å»ºç«‹Agentç”Ÿå‘½å‘¨æœŸç®¡ç†
2. åˆ†ç¦»å¼€å‘å·¥ä½œåŒºå’ŒAgentå·¥ä½œåŒº
3. ç›‘æ§æ€§èƒ½å¹¶å®šæœŸä¼˜åŒ–

---

**åˆ†æå®Œæˆæ—¶é—´**: 2026-02-09 08:30 UTC+8
**ç›¸å…³æ–‡æ¡£**:
- [æ ¹æœ¬åŸå› åˆ†æ](root-cause-analysis-final.md)
- [Multi-Agentæ•ˆç‡å¯¹æ¯”](multi-agent-vs-single-agent-efficiency-research.md)
- [DeepSeekå®˜æ–¹ç»Ÿä¸€é…ç½®](deepseek-official-unified-configuration.md)
