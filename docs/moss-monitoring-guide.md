# ğŸ¤– MOSS ç›‘æ§ä»ªè¡¨ç›˜ä½¿ç”¨æŒ‡å—

**åˆ›å»ºæ—¥æœŸ**: 2026-02-09
**ç‰ˆæœ¬**: v1.0

---

## ğŸ“Š ä¸‰ç§ç›‘æ§æ–¹å¼

### 1ï¸âƒ£ å†…ç½® Web ä»ªè¡¨ç›˜ï¼ˆå®˜æ–¹ï¼‰

**è®¿é—®åœ°å€**: [http://127.0.0.1:18789](http://127.0.0.1:18789)

**ç‰¹ç‚¹**:
- âœ… OpenClaw å®˜æ–¹å†…ç½®
- âœ… å›¾å½¢åŒ–ç•Œé¢
- âœ… å¯ä»¥ç›´æ¥ä¸ MOSS äº¤äº’
- âš ï¸  ä½†æ˜¯ç›‘æ§æŒ‡æ ‡ä¸å¤Ÿè¯¦ç»†

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ç¡®ä¿ Gateway æ­£åœ¨è¿è¡Œ
openclaw gateway status

# å¦‚æœæ²¡è¿è¡Œï¼Œå¯åŠ¨å®ƒ
openclaw gateway start

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open http://127.0.0.1:18789
```

---

### 2ï¸âƒ£ ç»ˆç«¯å®æ—¶ç›‘æ§ä»ªè¡¨ç›˜ï¼ˆæ¨èï¼‰â­

**ç‰¹ç‚¹**:
- âœ… å®æ—¶åˆ·æ–°ï¼ˆæ¯ 5 ç§’ï¼‰
- âœ… è¯¦ç»†çš„ Session çŠ¶æ€
- âœ… æ€§èƒ½ç»Ÿè®¡ï¼ˆæˆåŠŸç‡ã€è¶…æ—¶æ¬¡æ•°ï¼‰
- âœ… æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„æ¨¡å‹å’Œæä¾›å•†
- âœ… ä¸»åŠ¨æ€§å¼•æ“çŠ¶æ€
- âœ… æ˜¾ç¤ºæœ€è¿‘çš„è¯·æ±‚å†å²

**å¯åŠ¨æ–¹æ³•**:
```bash
# æ–¹æ³• 1: ç›´æ¥è¿è¡Œ
~/clawd/scripts/moss-monitor-dashboard.sh

# æ–¹æ³• 2: åœ¨åå°è¿è¡Œï¼ˆæ¨èï¼‰
nohup ~/clawd/scripts/moss-monitor-dashboard.sh > /dev/null 2>&1 &

# åœæ­¢ç›‘æ§
# æŒ‰ Ctrl+C æˆ–æ‰¾åˆ°è¿›ç¨‹å¹¶ kill
ps aux | grep moss-monitor-dashboard
kill <PID>
```

**ç›‘æ§æŒ‡æ ‡è¯´æ˜**:

| æŒ‡æ ‡ | è¯´æ˜ | æ­£å¸¸èŒƒå›´ |
|------|------|----------|
| **Session æ•°é‡** | å½“å‰ç§¯ç´¯çš„å¯¹è¯ä¼šè¯æ•° | < 12 ä¸ª |
| **ä»Šæ—¥è¯·æ±‚** | ä»Šå¤©å‘èµ·çš„ API è¯·æ±‚æ•° | - |
| **è¶…æ—¶æ¬¡æ•°** | 120 ç§’è¶…æ—¶çš„è¯·æ±‚æ•° | 0 æ¬¡ |
| **æˆåŠŸç‡** | æˆåŠŸå“åº”çš„è¯·æ±‚ç™¾åˆ†æ¯” | > 95% |
| **Gateway çŠ¶æ€** | OpenClaw ç½‘å…³è¿è¡ŒçŠ¶æ€ | âœ… è¿è¡Œä¸­ |
| **å½“å‰æ¨¡å‹** | æ­£åœ¨ä½¿ç”¨çš„å¤§æ¨¡å‹ | deepseek/deepseek-chat |
| **æä¾›å•†** | API æä¾›å•† | DeepSeek å®˜æ–¹ â­ |

**çŠ¶æ€é˜ˆå€¼**:

- ğŸŸ¢ **æ­£å¸¸**: < 12 ä¸ª Sessions
- ğŸŸ¡ **è­¦å‘Š**: 18-24 ä¸ª Sessions
- ğŸ”´ **ä¸´ç•Œ**: â‰¥ 25 ä¸ª Sessionsï¼ˆéœ€è¦ç«‹å³æ¸…ç†ï¼ï¼‰

---

### 3ï¸âƒ£ æ€§èƒ½è¯Šæ–­å·¥å…·

**ç‰¹ç‚¹**:
- âœ… ä¸€æ¬¡æ€§å®Œæ•´è¯Šæ–­
- âœ… ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š
- âœ… æä¾›ä¼˜åŒ–å»ºè®®

**ä½¿ç”¨æ–¹æ³•**:
```bash
~/clawd/scripts/agent-diagnostic.sh
```

**è¯Šæ–­å†…å®¹**:
- Session åˆ†æ
- æ•°æ®åº“å¤§å°
- ç³»ç»Ÿèµ„æºï¼ˆCPUã€å†…å­˜ï¼‰
- ç½‘ç»œå»¶è¿Ÿæµ‹è¯•
- ä¼˜åŒ–å»ºè®®

---

## ğŸ¯ æ¨èçš„ç›‘æ§å·¥ä½œæµ

### æ—¥å¸¸ç›‘æ§ï¼ˆæ¨èï¼‰

```bash
# 1. å¯åŠ¨å®æ—¶ç›‘æ§ä»ªè¡¨ç›˜
~/clawd/scripts/moss-monitor-dashboard.sh
```

ä¿æŒè¿™ä¸ªç»ˆç«¯çª—å£æ‰“å¼€ï¼Œä½ ä¼šçœ‹åˆ°ï¼š
- æ¯ 5 ç§’è‡ªåŠ¨åˆ·æ–°
- å®æ—¶çš„ Agent çŠ¶æ€
- æ€§èƒ½æŒ‡æ ‡å˜åŒ–
- åŠæ—¶å‘ç°é—®é¢˜

### å¿«é€Ÿæ£€æŸ¥

```bash
# åªæƒ³å¿«é€Ÿçœ‹ä¸€ä¸‹çŠ¶æ€
openclaw gateway status

# æ£€æŸ¥ Session æ•°é‡
ls -1 ~/.openclaw/agents/main/sessions/ | wc -l

# æŸ¥çœ‹æœ€è¿‘çš„ API è°ƒç”¨
tail -20 /tmp/openclaw/openclaw-$(date +%Y-%m-%d).log | grep "provider="
```

---

## ğŸ“ˆ å¦‚ä½•è¯»æ‡‚ç›‘æ§ä¿¡æ¯

### Session æ•°é‡

**ä¸ºä»€ä¹ˆé‡è¦**:
- Sessions ç§¯ç´¯è¿‡å¤šä¼šå¯¼è‡´ MOSS å˜æ…¢
- æ¯ä¸ª Session åŒ…å«å®Œæ•´çš„å¯¹è¯å†å²
- å¤ªå¤š Sessions = æ•°æ®åº“è†¨èƒ€ = å“åº”å˜æ…¢

**ä½•æ—¶æ¸…ç†**:
- è‡ªåŠ¨: æ¯å‘¨æ—¥å‡Œæ™¨ 3 ç‚¹ï¼ˆå¦‚æœ > 12 ä¸ªï¼‰
- æ‰‹åŠ¨: å½“è¾¾åˆ°è­¦å‘Šé˜ˆå€¼ï¼ˆ18 ä¸ªï¼‰æ—¶
- ç´§æ€¥: å½“è¾¾åˆ°ä¸´ç•Œé˜ˆå€¼ï¼ˆ25 ä¸ªï¼‰æ—¶

**æ¸…ç†å‘½ä»¤**:
```bash
~/clawd/scripts/agent-rejuvenate-intelligent.sh main clean
```

### æä¾›å•†çŠ¶æ€

**å¦‚ä½•åˆ¤æ–­**:
```bash
# æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æä¾›å•†
tail -10 ~/.openclaw/logs/gateway.log | grep "agent model:"
```

**æœŸæœ›è¾“å‡º**:
```
[gateway] agent model: deepseek/deepseek-chat  âœ… å®˜æ–¹ä¸“çº¿
```

**è­¦å‘Šè¾“å‡º**:
```
[gateway] agent model: openrouter/deepseek/deepseek-v3.2  âŒ æ…¢ï¼
```

### è¶…æ—¶æƒ…å†µ

**æ­£å¸¸**: 0 æ¬¡è¶…æ—¶
**å¼‚å¸¸**: å‡ºç° 120 ç§’è¶…æ—¶

**å¦‚æœé¢‘ç¹è¶…æ—¶**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹ä¸“çº¿ï¼ˆä¸æ˜¯ OpenRouterï¼‰
3. æ£€æŸ¥ DeepSeek API çŠ¶æ€
4. è€ƒè™‘æ¸…ç† Sessions

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### MOSS æ²¡æœ‰ååº”

**æ£€æŸ¥æ¸…å•**:

1. âœ… Gateway æ˜¯å¦è¿è¡Œï¼Ÿ
   ```bash
   openclaw gateway status
   ```

2. âœ… æ˜¯å¦åœ¨ä½¿ç”¨å®˜æ–¹ä¸“çº¿ï¼Ÿ
   ```bash
   tail -5 ~/.openclaw/logs/gateway.log | grep "agent model:"
   ```

3. âœ… æ˜¯å¦æœ‰è¶…æ—¶é”™è¯¯ï¼Ÿ
   ```bash
   grep "timeoutMs=120000" /tmp/openclaw/openclaw-$(date +%Y-%m-%d).log
   ```

4. âœ… Session æ˜¯å¦è¿‡å¤šï¼Ÿ
   ```bash
   ls -1 ~/.openclaw/agents/main/sessions/ | wc -l
   ```

### Gateway æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :18789

# å¦‚æœè¢«å ç”¨ï¼Œæ€æ‰è¿›ç¨‹
kill -9 <PID>

# é‡æ–°å¯åŠ¨
openclaw gateway start
```

### ç›‘æ§ä»ªè¡¨ç›˜æ˜¾ç¤ºé”™è¯¯

```bash
# ç¡®è®¤æ—¥å¿—æ–‡ä»¶å­˜åœ¨
ls -lh /tmp/openclaw/openclaw-$(date +%Y-%m-%d).log

# å¦‚æœä¸å­˜åœ¨ï¼Œé‡å¯ Gateway
openclaw gateway restart
```

---

## ğŸ“± å¿«é€Ÿè®¿é—®

```bash
# æ‰“å¼€ç›‘æ§ä»ªè¡¨ç›˜
~/clawd/scripts/moss-monitor-dashboard.sh

# æ‰“å¼€ Web UI
open http://127.0.0.1:18789

# è¿è¡Œè¯Šæ–­
~/clawd/scripts/agent-diagnostic.sh

# æŸ¥çœ‹ Gateway æ—¥å¿—
tail -f ~/.openclaw/logs/gateway.log

# æŸ¥çœ‹ Agent æ—¥å¿—
tail -f /tmp/openclaw/openclaw-$(date +%Y-%m-%d).log
```

---

## ğŸ¨ è¿›é˜¶ï¼šè‡ªå®šä¹‰ç›‘æ§

å¦‚æœä½ æƒ³è¦æ›´å¼ºå¤§çš„å¯è§†åŒ–åŠŸèƒ½ï¼Œå¯ä»¥è€ƒè™‘ï¼š

### 1. Grafana + Prometheus
- é€‚åˆï¼šé•¿æœŸæ•°æ®å­˜å‚¨å’Œé«˜çº§å¯è§†åŒ–
- å®‰è£…ï¼šéœ€è¦é¢å¤–é…ç½®
- æ•™ç¨‹ï¼š[Prometheus + OpenClaw](https://docs.openclaw.ai/monitoring)

### 2. ç¬¬ä¸‰æ–¹ Agent Rails
- ä»“åº“ï¼š[rforgeon/AgentRails](https://github.com/rforgeon/AgentRails)
- ç‰¹ç‚¹ï¼šç°ä»£åŒ–çš„ Agent ç®¡ç†ç•Œé¢
- å®‰è£…ï¼šéœ€è¦å•ç‹¬éƒ¨ç½²

### 3. Langfuse / LangSmith
- é€‚åˆï¼šå¤š Agent æ¯”è¾ƒ
- ç¼ºç‚¹ï¼šéœ€è¦å¤–éƒ¨æœåŠ¡
- é“¾æ¥ï¼š[Langfuse](https://langfuse.com)

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ä¸»åŠ¨æ€§å¼•æ“æ–‡æ¡£](/Users/lijian/clawd/docs/proactive-engine-autostart-guide.md)
- [Agent é˜²è€åŒ–ç³»ç»Ÿ](/Users/lijian/clawd/docs/agent-anti-aging-system.md)
- [æ€§èƒ½è¯Šæ–­æŒ‡å—](/Users/lijian/clawd/docs/openclaw-performance-diagnostic-guide.md)

---

## ğŸ’¡ å°è´´å£«

1. **ä¿æŒç›‘æ§è¿è¡Œ**: åœ¨å·¥ä½œæ—¶ä¿æŒç›‘æ§ä»ªè¡¨ç›˜æ‰“å¼€
2. **å®šæœŸæ£€æŸ¥**: æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡ Session æ•°é‡
3. **åŠæ—¶æ¸…ç†**: è¶…è¿‡ 18 ä¸ª Sessions æ—¶è€ƒè™‘æ¸…ç†
4. **å…³æ³¨è¶…æ—¶**: å¦‚æœè¶…æ—¶é¢‘ç¹ï¼Œæ£€æŸ¥ç½‘ç»œå’Œæä¾›å•†é…ç½®
5. **æŸ¥çœ‹æ—¥å¿—**: é‡åˆ°é—®é¢˜æ—¶ï¼Œå…ˆçœ‹æ—¥å¿—å†åŠ¨æ‰‹

---

**ç¥ç›‘æ§æ„‰å¿«ï¼ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼š`~/clawd/logs/proactive-engine.log`
